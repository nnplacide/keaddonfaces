<!--
      ~ The contents of this file are subject to the OpenMRS Public License
      ~ Version 1.0 (the "License"); you may not use this file except in
      ~ compliance with the License. You may obtain a copy of the License at
      ~ http://license.openmrs.org
      ~
      ~ Software distributed under the License is distributed on an "AS IS"
      ~ basis, WITHOUT WARRANTY OF ANY KIND, either express or implied. See the
      ~ License for the specific language governing rights and limitations
      ~ under the License.
      ~
      ~ Copyright (C) OpenMRS, LLC.  All Rights Reserved.
    -->
<htmlform>

<style type="text/css">
    table.screen {
        border-collapse: collapse;
    }
    table.screen > tbody > tr > td, table.screen > tbody > tr > th {
        border: 1px solid black;
        vertical-align: baseline;
        padding: 4px;
    }
</style>
<script type="text/javascript">
var YES_CONCEPT_ID = 1065;
var NO_CONCEPT_ID = 1066;
var UNKNOWN_CONCEPT_ID = 1067;
var OTHER_CONCEPT_ID = 5622;
var NONE_CONCEPT_ID = 1118;
var ADULT =15;
var ABNORMAL_CONCEPT_ID = 1116;
var CBC_CONCEPT_ID = 1019;
var HGB_CONCEPT_ID = 21;
var CREATININE_CONCEPT_ID = 790;
var GLUCOSE_CONCEPT_ID = 887;
var ALT_CONCEPT_ID = 654;
var AST_CONCEPT_ID = 653;
var BILIRUBIN_CONCEPT_ID = 655;
var BILIRUBIND_CONCEPT_ID = 1297;
var PHOSPH_CONCEPT_ID = 785;
var CD4CD8_CONCEPT_ID = 854;
var CD4_CONCEPT_ID = 5497;
var CD4PERCENT_CONCEPT_ID = 730;
var HCG_CONCEPT_ID = 45;
var TB_CONCEPT_ID = 307;
var RNA_CONCEPT_ID = 856;
var MALARIA_CONCEPT_ID = 32;

/* Skipping Patterns and dropped fields*/
function onMEDSChange()
{

    if (getValue('meds.value') == YES_CONCEPT_ID)
    {
        jq('#takingmeds').hide();
    }
    else
    {
        jq('#takingmeds').hide();
    }
}

function onSYMPTChange()
{

    if (getValue('sympt.value') != NO_CONCEPT_ID)
    {
        jq('#symptoms').hide();
    }
    else
    {
        jq('#symptoms').hide();
    }
}

function onASSESSChange()
{
    if (getValue('assess.value')== ABNORMAL_CONCEPT_ID)
    {
        jq('#assessment').hide();
    }
    else
    {
        jq('#assessment').hide();
    }
}

function onWHO234Change()
{
    if (getValue('who234.value')== YES_CONCEPT_ID)
    {
        jq('#who234disease').show();
    }
    else
    {
        jq('#who234disease').hide();
    }
}


function onLABChange()
{
    if (getValue('lab.value')== NONE_CONCEPT_ID)
    {
        jq('#laboratory').hide();
        jq('#O_cd4cd8').hide();
    }
    else
    {
        jq('#laboratory').show();
        jq('#O_cd4cd8').hide();
    }
}

function onO_CBCChange()
{

    if (getValue('O_cbc.value')== NO_CONCEPT_ID)
    {
        jq('#R_wbc').hide();
        jq('#R_hgb').hide();
        jq('#R_platelet').hide();
        jq('#R_neutrophil').hide();
        jq('#R_neutrophilPercent').hide();
    }
    else if (getValue('O_cbc.value')== CBC_CONCEPT_ID)
    {
        jq('#R_wbc').show();
        jq('#R_hgb').show();
        jq('#R_platelet').show();
        jq('#R_neutrophil').show();
        jq('#R_neutrophilPercent').show();
    }
    else
    {
        jq('#R_wbc').hide();
        jq('#R_hgb').hide();
        jq('#R_platelet').hide();
        jq('#R_neutrophil').hide();
        jq('#R_neutrophilPercent').hide();
    }
}

function onO_GLUCOSEChange()
{

    if (getValue('O_glucose.value')== NO_CONCEPT_ID)
    {
        jq('#R_glucose').hide();
    }
    else if (getValue('O_glucose.value')== GLUCOSE_CONCEPT_ID)
    {
        jq('#R_glucose').show();
    }
    else
    {
        jq('#R_glucose').hide();
    }
}

function onO_ALTChange()
{

    if (getValue('O_alt.value')== NO_CONCEPT_ID)
    {
        jq('#R_alt').hide();
    }
    else if (getValue('O_alt.value')== ALT_CONCEPT_ID)
    {
        jq('#R_alt').show();
    }
    else
    {
        jq('#R_alt').hide();
    }
}

function onO_ASTChange()
{

    if (getValue('O_ast.value')== NO_CONCEPT_ID)
    {
        jq('#R_ast').hide();
    }
    else if (getValue('O_ast.value')== AST_CONCEPT_ID)
    {
        jq('#R_ast').show();
    }
    else
    {
        jq('#R_ast').hide();
    }
}

function onO_BILIRUBINChange()
{

    if (getValue('O_bilirubin.value')== NO_CONCEPT_ID)
    {
        jq('#R_bilirubin').hide();
    }
    else if (getValue('O_bilirubin.value')== BILIRUBIN_CONCEPT_ID)
    {
        jq('#R_bilirubin').show();
    }
    else
    {
        jq('#R_bilirubin').hide();
    }
}

function onO_BILIRUBINDChange()
{

    if (getValue('O_bilirubinD.value')== NO_CONCEPT_ID)
    {
        jq('#R_bilirubinD').hide();
    }
    else if (getValue('O_bilirubinD.value')== BILIRUBIND_CONCEPT_ID)
    {
        jq('#R_bilirubinD').show();
    }
    else
    {
        jq('#R_bilirubinD').hide();
    }
}

function onO_PHOSPHChange()
{

    if (getValue('O_phosph.value')== NO_CONCEPT_ID)
    {
        jq('#R_phosph').hide();
    }
    else if (getValue('O_phosph.value')== PHOSPH_CONCEPT_ID)
    {
        jq('#R_phosph').show();
    }
    else
    {
        jq('#R_phosph').hide();
    }
}

function onO_CD4CD8Change()
{

    if (getValue('O_cd4cd8.value')== CD4CD8_CONCEPT_ID)
    {
        jq('#R_cd4').show();
        jq('#R_cd4Percent').show();
        jq('#R_cd8').show();
        jq('#R_cd8Percent').show();
    }
    else
    {
        jq('#R_cd4').hide();
        jq('#R_cd4Percent').hide();
        jq('#R_cd8').hide();
        jq('#R_cd8Percent').hide();
    }
}

function onO_BUNChange()
{

    if (getValue('O_bun.value')== NO_CONCEPT_ID)
    {
        jq('#R_bun').hide();
    }
    else if (getValue('O_bun.value')== BUN_CONCEPT_ID)
    {
        jq('#R_bun').show();
    }
    else
    {
        jq('#R_bun').hide();
    }
}


function onCREATININEChange()
{

    if (getValue('O_creatinine.value')== CREATININE_CONCEPT_ID)
    {
        jq('#R_creatinine').show();
    }
    else
    {
        jq('#R_creatinine').hide();
    }
}


function onO_HCGChange()
{

    if (getValue('O_hcg.value')== HCG_CONCEPT_ID)
    {
        jq('#R_hcg').show();
    }
    else
    {
        jq('#R_hcg').hide();
    }
}


function onO_TBChange()
{

    if (getValue('O_tb.value')== TB_CONCEPT_ID)
    {
        jq('#R_tb').show();
    }
    else
    {
        jq('#R_tb').hide();
    }
}


function onO_RNAChange()
{

    if (getValue('O_rna.value')== RNA_CONCEPT_ID)
    {
        jq('#R_rna').show();
        jq('#rnasign').show();
    }
    else
    {
        jq('#R_rna').hide();
        jq('#rnasign').hide();
    }
}


function onO_MALARIAChange()
{

    if (getValue('O_malaria.value')== NO_CONCEPT_ID)
    {
        jq('#R_malaria').hide();
    }
    else if (getValue('O_malaria.value')== MALARIA_CONCEPT_ID)
    {
        jq('#R_malaria').show();
    }
    else
    {
        jq('#R_malaria').hide();
    }
}



/* Validate Participant Temperature */
function validateTemp()
{
    var T = parseFloat(getValue('temp.value'));
    var age = <lookup expression="patient.age"/>;
    if (!isNaN(T) &amp;&amp; !isNaN(age))
    {
        if (age &lt; ADULT)
        {
            /*validate children temp */
            if (T &lt; 34 || T &gt; 40 )
            {
                getField('temp.error').html('Should be between 34-40').show();
            }
            else
            {
                getField('temp.error').hide();
            }
        }
        else
        {
            /*validate Adult Temp */
            if (T &lt; 34 || T &gt; 42 )
            {
                getField('temp.error').html('Should be between 34-42').show();
            }
            else
            {
                getField('temp.error').hide();
            }
        }
    }
}

/* validate Heart Rate */
function validatePulse()
{
    var p = parseFloat(getValue('pulse.value'));
    var age = <lookup expression="patient.age"/>   ;
    if (!isNaN(p) &amp;&amp; !isNaN(age))
    {
        /* validate Children */
        if(age &lt; ADULT)
        {
            if (p &lt; 60 || p &gt; 190 )
            {
                getField('pulse.error').html('Should be between 60-190').show();
            }
            else
            {
                getField('pulse.error').hide();
            }
        }
        else
        {
            /*validate Adults */
            if (p &lt; 40 || p &gt; 150 )
            {
                getField('pulse.error').html('Should be between 40-150').show();
            }
            else
            {
                getField('pulse.error').hide();
            }

        }
    }
}

/* validate Systolic BP */
function validateSystolicBP()
{
    var s = parseFloat(getValue('systolic.value'));
    if (!isNaN(s))
    {
        if (s &lt; 50 || s &gt; 230 )
        {
            getField('systolic.error').html('Should be between 50-230').show();
        }
        else
        {
            getField('systolic.error').hide();
        }
    }
}

/* validate Diastolic BP */
function validateDiastolicBP()
{
    var d = parseFloat(getValue('diastolic.value'));
    var s = parseFloat(getValue('systolic.value'));
    if (!isNaN(d))
    {
        if (d &lt; 35 || d &gt; 140 )
        {
            getField('diastolic.error').html('Should be between 35-140').show();
            getField('diastolic.error').clear();
        }
        else
        {
            getField('diastolic.error').hide();
        }
    }

    if (!isNaN(s) &amp;&amp; !isNaN(d))
    {
        if (d &gt; s)
        {
            getField('diastolic.error').html('Should be than less systolic value').show();
        }
        else
        {
            getField('diastolic.error').hide();
        }
    }
}

function validateTCA()
{
    /* Validate TCA (Return visit date or Next appointment date) */
    /*this data should be in Future but not more than 30 days from the currect date*/

    var enc_date=new Date(getValue('encounter-date.value')).getTime();
    var tca_date= new Date(getValue('tca.value')).getTime();
    var NIGHTY_DAYS = 45 * 24 * 60 * 60 * 1000;  /* days/hours/minutes*/
    var future_tca=enc_date + NIGHTY_DAYS;
    if(typeof tca_date != "undefined" || tca_date != null || tca_date != '')
    {
        if(tca_date &lt;= enc_date)
        {
            getField('tca.error').html('Should not be less than the Encounter Date').show();
        }
        //check if the tca is greater than 30 days from the enc date (have factored in 15 possible days delay and made it to allow 45 days)
        else if(tca_date &gt; future_tca )
        {
            getField('tca.error').html('next visit is for week 4 which should not be more than 30 days from Encounter Date').show();
        }
        else
        {
            getField('tca.error').hide();
        }
    }

}



jq(function(){

    /* Form Skipping Pattern based on the selected value*/
    jq('#meds input').click(onMEDSChange);
    jq('#sympt input').click(onMEDSChange); //if the symptoms table is determined to be required the trigger will be shifted to #sympt
    jq('#assess input').click(onMEDSChange); //if the clinical assessment table is determined to be required the trigger will be shifted to #assess
    jq('#who234 input').click(onWHO234Change);
    jq('#lab input').click(onLABChange); //if the lab table is determined to be required the trigger will be shifted to #assess
    jq('#O_cbc input').click(onO_CBCChange);
    jq('#O_glucose input').click(onO_GLUCOSEChange);
    jq('#O_alt input').click(onO_ALTChange);
    jq('#O_ast input').click(onO_ASTChange);
    jq('#O_bilirubin input').click(onO_BILIRUBINChange);
    jq('#O_bilirubinD input').click(onO_BILIRUBINDChange);
    jq('#O_phosph input').click(onO_PHOSPHChange);
    jq('#O_cd4cd8 input').click(onO_CD4CD8Change);
    jq('#O_bun input').click(onO_BUNChange);
    jq('#O_creatinine input').click(onCREATININEChange);
    jq('#R_creatinine').hide;
    jq('#O_hcg input').click(onO_HCGChange);
    jq('#O_tb input').click(onO_TBChange);
    jq('#O_malaria input').click(onO_MALARIAChange);
    jq('#O_rna input').click(onO_RNAChange);
    jq('#rnasign input').click(onO_RNAChange);
    jq('#O_cd4cd8').hide;
    jq('#R_hcg').hide;
    jq('#R_rna').hide();
    jq('#rnasign').hide();
    jq('#R_creatinine').hide();
    jq('#R_glucose').hide();
    jq('#R_hcg').hide();
    jq('#R_tb').hide();
    jq('#R_malaria').hide();
    jq('#R_phosph').hide();

    /*validate Fields */
    getField('temp.value').change(validateTemp);
    getField('pulse.value').change(validatePulse);
    getField('diastolic.value').change(validateDiastolicBP);
    getField('systolic.value').change(validateSystolicBP);
    getField('tca.value').change(validateTCA);
    /*validate CD4 */
    getField('R_cd4.value').change(
            function() {
                var msInYear=1000*60*60*24*365.25;
                var ENC_DATE=new Date(getValue('encounter-date.value'))//.getTime();
                var birthdateMs= new Date(<lookup expression="patient.birthdate.time"/>);
                var encounterDateMs=ENC_DATE.getTime();
                var CHILD = 12;
                var age = (encounterDateMs-birthdateMs)/msInYear;
                var VR_cd4 = parseFloat(getValue('R_cd4.value'));

                if(!isNaN(VR_cd4) &amp;&amp; !isNaN(age))
                {
                    if (age &lt; CHILD)
                    {
                        /*validate cd4 count for children */
                        if (VR_cd4 &lt; 0 || VR_cd4 &gt; 4500 )
                        {
                            alert("should be between 0 and 4500")
                            setValue('R_cd4.value', '')
                            getField('R_cd4.error').html('Should be between 0-4500').show();
                        }
                        else
                        {
                            getField('R_cd4.error').hide();
                        }
                    }
                    else
                    {
                        /*validate cd4 count for adults */
                        if ((VR_cd4 &lt; 0) || (VR_cd4 &gt; 3500) )
                        {
                            alert("should be between 0 and 3500")
                            setValue('R_cd4.value', '')
                            getField('R_cd4.error').html("Should be between 0-3500").show();
                        }
                        else
                        {
                            getField('R_cd4.error').hide();
                        }
                    }
                }
            });



    onMEDSChange();
    onSYMPTChange();
    onASSESSChange();
    onWHO234Change();
    onLABChange();
    onO_CBCChange();
    onO_GLUCOSEChange();
    onO_ALTChange();
    onO_ASTChange();
    onO_BILIRUBINChange();
    onO_BILIRUBINDChange();
    onO_PHOSPHChange();
    onO_CD4CD8Change();
    onO_BUNChange();
    onCREATININEChange();
    onO_HCGChange();
    onO_TBChange();
    onO_MALARIAChange();
    validateTemp();
    validatePulse();
    validateDiastolicBP();
    validateSystolicBP();
    onO_RNAChange();
    validateTCA();
});
</script>

<div style="display:none">
    <encounterProvider default="ae01b8ff-a4cc-4012-bcf7-72359e852e14" />
</div>
<div class="ke-form-header">
    <table style="width: 100%">
        <tr>
            <td>Date: <encounterDate id="encounter-date" showTime="true"/></td>
            <td>Enrolled at: <encounterLocation id="site" default="GlobalProperty:kenyaemr.defaultLocation"/></td>
        </tr>
    </table>
</div>
<div class="ke-form-content">
<table class="screen" align="center" width="1100px">
<tbody>
<tr>
    <td align="center" style="background-color: #696969; color: #ffffff;">
        <a name="page1"></a>
        CRF- 3 - SCREENING-WEEK 0 (ENROLLMENT) VISIT FORM (1)
    </td>
</tr>
<tr>
    <td>
        <table width="100%">
            <td rowspan="2" width="25%"></td>
            <td rowspan="2" width="25%"></td>
            <td rowspan="2" width="35%">Participant initials:<lookup class="value" expression="patient.personName"/></td>
            <td style="background-color:lightcyan;">
                Clinic ID:<lookup class="value" complexExpression="#foreach( $patId in $patientIdentifiers.get('Faces ID') ) $patId #end "/>
            </td>
            <tr>
                <td style="background-color:lightcyan;">
                    SEARCH ID:<lookup class="value" complexExpression="#foreach( $patId in $patientIdentifiers.get('SEARCH ID') ) $patId #end "/>
                </td>
            </tr>
        </table>
    </td>
</tr>
<tr>
    <td>Participant completed a separate Screening Visit before today
        <obs id="prevscreen" conceptId="161643AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
             answerConceptIds="1065AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1066AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
             answerLabels="Yes, No" style="radio"/>
    </td>
</tr>
<tr>
    <td style="background-color: #696969; color: #ffffff;" align="center">
        SCREENING-WEEK 0 (ENROLLMENT) VISIT FORM (1)
    </td>
</tr>
<tr>
    <td>
        <table class="screen" width="98%" align="center">
            <tr>
                <td colspan="2" align="center"><strong>Taking medications?</strong>
                    <obs id="meds" conceptId="159367AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                         answerConceptIds="
                        1065AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,
                        1066AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,
                        1067AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerLabels="Yes,No,Unknown" style="radio"/> (If Yes, list below)................
                    <obs id="meddone" conceptId="159367AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                         answerConceptId="1118AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerLabel="" style="radio"/>Not done</td>
            </tr>
        </table>
    </td>
</tr>
<tr align="center">
    <td>
              <span id="takingmeds">
                <table class="screen" width="98%" align="center">
                    <td align="center">
                        <table>
                            <obsgroup groupingConceptId="1442AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"> <!-- grouping the medication the patient is curerently on -->
                                <tr style="font-weight:bold;" align="center">
                                    <td colspan="2" style="font-weight:bold;" align="center">Medication</td>
                                </tr>
                                <repeat>
                                    <template>
                                        <tr>
                                            <td><obs conceptId="159369AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"/></td> <!-- Drug will be repeated 4 times down -->
                                        </tr>
                                    </template>
                                    <render n="1" concept=" "/>
                                    <render n="2" concept=" "/>
                                    <render n="3" concept=" "/>
                                    <render n="4" concept=" "/>
                                </repeat>
                            </obsgroup>
                        </table>
                    </td>
                </table>
            </span>
    </td>
</tr>
<tr>
    <td style="background-color: #696969; color: #ffffff;" align="center">
        SYMPTOM SCREEN
    </td>
</tr>
<tr>
    <td>
        <table class="screen" width="98%" align="center">
            <tr>
                <td colspan="10" align="center"><strong>SYMPTOM SCREEN</strong>
                    <obs id="sympt" conceptId="1729AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                         answerConceptId="1066AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerLabel="" style="radio"/>No current symptoms ..................
                    <obs id="symptdone" conceptId="1729AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                         answerConceptId="1118AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerLabel="" style="radio"/>not done
                </td>
            </tr>
        </table>
    </td>
</tr>
<tr align="center">
    <td>
	                <span id="symptoms">
                       <div style="float: left; padding-right: 2px">
                           <table class="screen" width="98%" align="center">
                               <obsgroup groupingConceptId="1727AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA">
                                   <tr style="font-weight:bold;" align="center">
                                       <td>Symptoms</td>
                                       <td>Absent</td>
                                       <td>Severity<sup>*</sup></td>
                                       <td>Duration</td>
                                       <td>Day</td>
                                   </tr>
                                   <repeat>
                                       <template>
                                           <tr>
                                               <td><obs conceptId="1728AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                                        answerConceptIds="
												   512AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,
												   122496AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,
												   832AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,
												   114403AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,
												   5978AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                                        answerLabels="Cutaneous rash, Dyspnea, Unintentional weight loss, Pain, Nausea"
                                                        answerSeparator="&lt;br /&gt;" style="dropdown"/>
                                               </td>      <!-- Symptoms name column1 -->
                                               <td><obs conceptId="1729AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                                        answerConceptId="1066AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                                        answerLabel="" style="checkbox"/>
                                               </td>     <!-- Symptom Absence column2 -->
                                               <td><obs conceptId="162642AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                                        answerConceptIds="
												   1498AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,
												   1499AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,
												   1500AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,
												   162693AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                                        answerLabels="1 = mild,2=moderate,3 = severe,4 = life-threatening"
                                                        answerSeparator="&lt;br /&gt;" style="dropdown"/>
                                               </td>      <!-- Symptom severity column3 -->
                                               <td><obs conceptId="1731AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"/></td>     <!-- Symptom duration column4 -->
                                               <td><obs conceptId="1732AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                                        answerConceptId="1072AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerLabel=""/>
                                               </td>
                                           </tr>
                                       </template>
                                       <render n="1" concept=" " />
                                       <render n="2" concept=" " />
                                       <render n="3" concept=" " />
                                       <render n="4" concept=" " />
                                       <render n="5" concept=" " />
                                   </repeat>
                               </obsgroup>
                           </table>
                       </div>
                    <div style="float: left">
                        <table class="screen" width="98%" align="center">
                            <obsgroup groupingConceptId="1727AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA">
                                <tr style="font-weight:bold;" align="center">
                                    <td>Symptoms</td>
                                    <td>Absent</td>
                                    <td>Severity<sup>*</sup></td>
                                    <td>Duration</td>
                                    <td>Day</td>
                                </tr>
                                <repeat>
                                    <template>
                                        <tr>
                                            <td><obs conceptId="1728AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                                     answerConceptIds="
												122983AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,
												142412AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,
												116743AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,
												5622AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                                     answerLabels="Vomiting, Diarrhea, Insomnia, Other"
                                                     answerSeparator="&lt;br /&gt;" style="dropdown"/></td>      <!-- Symptoms name column5 -->
                                            <td><obs conceptId="1729AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                                     answerConceptId="1065AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                                     answerLabel="" style="checkbox"/></td>     <!-- Symptom Absence column6 -->
                                            <td><obs conceptId="162642AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                                     answerConceptIds="
												1498AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,
												1499AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,
												1500AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,
												162693AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                                     answerLabels="1 = mild,2=moderate,3 = severe,4 = life-threatening"
                                                     answerSeparator="&lt;br /&gt;" style="dropdown"/></td>      <!-- Symptom severity column7 -->
                                            <td><obs conceptId="1731AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"/></td>     <!-- Symptom duration column8 -->
                                            <td><obs conceptId="1732AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                                     answerConceptId="1072AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerLabel="" style="dropdown"/>
                                            </td>
                                        </tr>
                                    </template>
                                    <render n="1" concept=" " />
                                    <render n="2" concept=" " />
                                    <render n="3" concept=" " />
                                    <render n="4" concept=" " />
                                    <render n="5" concept=" " />
                                </repeat>
                            </obsgroup>
                        </table>
                    </div>
                </span>
    </td>
</tr>
<tr>
    <td>
        <table>
            <tr>
                <td style="font-style: italic;">
                    *Severity:	Rank on scale of 1-4:     1 = mild;     2 = moderate;     3 = severe;     4 = life-threatening
                </td>
            </tr>
        </table>
    </td>
</tr>
<tr>
    <td style="background-color: #696969; color: #ffffff;" align="center">
        TARGETED PHYSICAL EXAM
        <obs conceptId="162737AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerConceptId="1118AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"/>
    </td>
</tr>
<tr>
    <td>
        <table class="screen" width="98%"  align="center">
            <tr>
                <td colspan="3"  style="font-style: italic;" align="center">VITAL SIGNS</td>
            </tr>
            <tr>
                <td style="font-weight:bold;" align="center">Temperature (ºC)<obs id="temp" conceptId="5088AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"/></td>
                <td style="font-weight:bold;" align="center">Heart Rate<obs id="pulse" conceptId="5087AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"/>/minute</td>
                <td style="font-weight:bold;" align="center">Blood Pressure (mm Hg):
                    <obs id="systolic" conceptId="5085AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"/> /
                    <obs id="diastolic" conceptId="5086AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"/>
                </td>
            </tr>
        </table>
    </td>
</tr>
<tr>
    <td>
        <table class="screen" width="98%" align="center">
            <tr>
                <td colspan="8" align="center"><em>CLINICAL ASSESSMENT</em></td>
            </tr>
        </table>
    </td>
</tr>
<tr>
    <td>
				<span id="assessment">
					<div style="float: left; padding-right: 2px">
                        <table class="screen" width="98%" align="center">
                            <obsgroup groupingConceptId="160168AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA">
                                <tr style="font-weight:bold;" align="center">
                                    <td>System</td>
                                    <td>Normal</td>
                                    <td>Abnormal finding(s)</td>
                                    <td>Severity<sup>*</sup></td>
                                </tr>
                                <repeat>
                                    <template>
                                        <tr>
                                            <td><obs conceptId="1069AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                                     answerConceptIds="
												1122AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,
												1124AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,
												1071AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                                     answerLabels="Throat and mouth, Heart, Lungs"
                                                     answerSeparator="&lt;br /&gt;" style="dropdown"/>
                                            </td>      <!-- System under review column1 -->
                                            <td><obs conceptId="162737AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                                     answerConceptIds="1115AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                                     answerLabels="" style="radio"/>
                                            </td>     <!-- is the diagnosis normal column2 -->
                                            <td>
                                                <obs conceptId="161602AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"/>
                                            </td>      <!-- Diagnosis abnormality details column 3-->
                                            <td><obs conceptId="162642AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                                     answerConceptIds="
												1498AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,
												1499AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,
												1500AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,
												162693AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                                     answerLabels="1 = mild,2=moderate,3 = severe,4 = life-threatening"
                                                     answerSeparator="&lt;br /&gt;" style="dropdown"/>
                                            </td>      <!-- diagnosis severity column4 -->
                                        </tr>
                                    </template>
                                    <render n="1" concept=" " />
                                    <render n="2" concept=" " />
                                    <render n="3" concept=" " />
                                </repeat>
                            </obsgroup>
                        </table>
                    </div>
					<div style="float: left">
                        <table class="screen" width="98%" align="center">
                            <obsgroup groupingConceptId="159947AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA">
                                <tr style="font-weight:bold;" align="center">
                                    <td>System</td>
                                    <td>Normal</td>
                                    <td>Abnormal finding(s)</td>
                                    <td>Severity<sup>*</sup></td>
                                </tr>
                                <repeat>
                                    <template>
                                        <tr>
                                            <td><obs conceptId="1069AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                                     answerConceptIds="
												1120AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,
												1125AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,
												5622AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                                     answerLabels="Skin, Abdomen, Other"
                                                     answerSeparator="&lt;br /&gt;" style="dropdown"/>
                                            </td>      <!-- System under review column5 -->
                                            <td><obs conceptId="162737AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                                     answerConceptIds="1115AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                                     answerLabels="" style="radio"/>
                                            </td>     <!-- is the diagnosis normal column6 -->
                                            <td>
                                                <obs conceptId="161602AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"/>
                                            </td>      <!-- Diagnosis abnormality details column 7-->
                                            <td><obs conceptId="162642AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                                     answerConceptIds="
												1498AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,
												1499AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,
												1500AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,
												162693AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                                     answerLabels="1 = mild,2=moderate,3 = severe,4 = life-threatening"
                                                     answerSeparator="&lt;br /&gt;" style="dropdown"/>
                                            </td>      <!-- diagnosis severity column8 -->
                                        </tr>
                                    </template>
                                    <render n="1" concept=" " />
                                    <render n="2" concept=" " />
                                    <render n="3" concept=" " />
                                </repeat>
                            </obsgroup>
                        </table>
                    </div>
				</span>
    </td>
</tr>
<tr>
    <td>
        <table>
            <tr>
                <td style="font-style: italic;">
                    *Severity:	Rank on scale of 1-4:     1 = mild;     2 = moderate;     3 = severe;     4 = life-threatening
                </td>
            </tr>
        </table>
    </td>
</tr>
<tr>
    <td>
        <table width="100%" align="center">
            <tr>
                <td> Page 1 </td>
                <td> <a href="#page2">go to Next Page</a></td>
            </tr>
        </table>
    </td>
</tr>
<tr>
    <td style="background-color: #696969; color: #ffffff;" align="center">
        <a name="page2"></a>
        SCREENING-WEEK 0 (ENROLLMENT) VISIT FORM (2)
    </td>
</tr>
<tr>
    <td>
        <table class="screen"  width="98%" align="center">
            <tr>
                <td width="50%" style="font-weight:bold;">
                    WHO Stage 2, 3, 4 Illness or Targeted Medical Condition at this visit?<br/><em>Refer to Clinical Endpoints Study sheet</em>
                </td>
                <td width="50%" align="center"><obs id="who234" conceptId="162876AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                                    answerConceptIds="1065AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1066AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                                    answerLabels="Yes,No" style="radio"/>
                </td>
            </tr>
        </table>
    </td>
</tr>
<tr>
    <td>
        <table class="screen"  width="98%" align="center">
            <tr>
                <td colspan="8" align="center">LAB TESTS <obs id="lab" conceptId="1271AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                                              answerConceptIds="1118AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                                              answerLabels="Not done" style="radio"/>
                </td>
            </tr>
        </table>
    </td>
</tr>
<tr>
    <td>
				<span id="laboratory">
					<table class="screen"  width="98%" align="center">
                        <tr style="font-weight: bold;" align="center">
                            <td height="20" colspan="2">Test</td>
                            <td>Ordered?</td>
                            <td>Result</td>
                            <td colspan="2">Test</td>
                            <td width="15%">Ordered?</td>
                            <td>Result</td>
                        </tr>
                        <tr>
                            <td height="20" colspan="2">HGB</td>
                            <td valign="middle"><obs id="O_cbc" conceptId="1271AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                                     answerConceptId="1019AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerLabel="Yes" style="radio"/>
                            </td>
                            <td><obs id="R_hgb" conceptId="21AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"/>μL</td>
                            <td height="20" colspan="2">Glucose</td>
                            <td width="12%"><obs id="O_glucose" conceptId="1271AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                                 answerConceptId="887AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerLabel="Yes" style="radio"/>
                            </td>
                            <td width="10%"><obs id="R_glucose" conceptId="887AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"/>mg/dL</td>
                        </tr>
                        <tr>
                            <td rowspan="5" align="bottom">
                                <div style="float: inside;
								   -moz-transform: rotate(270deg);  /* FF3.5+ */
								   -o-transform: rotate(270deg);  /* Opera 10.5 */
								   -webkit-transform: rotate(270deg);  /* Saf3.1+, Chrome */
								   filter:  progid:DXImageTransform.Microsoft.BasicImage(rotation=3);  /* IE6,IE7 */
								   -ms-filter: progid:DXImageTransform.Microsoft.BasicImage(rotation=3); /* IE8 */">Liver
                                </div>
                            </td>
                            <td>ALT</td>
                            <td><obs id="O_alt" conceptId="1271AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                     answerConceptId="654AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerLabel="Yes" style="radio"/>
                            </td>
                            <td><obs id="R_alt" conceptId="654AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"/>U/L</td>
                            <td colspan="2">Pregnancy HCG</td>
                            <td><obs id="O_hcg" conceptId="1271AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                     answerConceptId="45AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerLabel="Yes" style="radio"/>
                            </td>
                            <td><obs id="R_hcg" conceptId="45AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                     answerConceptIds="703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,664AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                     answerLabels="Positive,Negative" answerSeparator="&lt;br /&gt;" style="radio"/>
                            </td>
                        </tr>
                        <tr>
                            <td>AST<br/>(as indicated)</td>
                            <td><obs id="O_ast" conceptId="1271AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                     answerConceptId="653AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerLabel="Yes" style="radio"/>
                            </td>
                            <td><obs id="R_ast" conceptId="653AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"/>U/L</td>
                            <td colspan="2">Tuberculosis test</td>
                            <td><obs id="O_tb" conceptId="1271AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                     answerConceptId="307AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerLabel="Yes" style="radio"/>
                            </td>
                            <td><obs id="R_tb" conceptId="307AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                     answerConceptIds="703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,664AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                     answerLabels="Positive,Negative" answerSeparator="&lt;br /&gt;" style="radio"/>
                            </td>
                        </tr>
                        <tr>
                            <td>Total bilirubin <br/>(as indicated)</td>
                            <td><obs id="O_bilirubin" conceptId="1271AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                     answerConceptId="655AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerLabel="Yes" style="radio"/>
                            </td>
                            <td><obs id="R_bilirubin" conceptId="655AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"/>mg/dL</td>
                            <td colspan="2">HIV RNA<br/>(if CHC non-participant only):</td>
                            <td width="13%"><obs id="O_rna" conceptId="1271AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                                 answerConceptId="856AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerLabel="Yes" style="radio"/>
                            </td>
                            <td width="10%"><obs id="rnasign" conceptId="1305AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                                 answerConceptIds="1302AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1301AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                                 answerLabels="&lt;,="/><obs id="R_rna" conceptId="856AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"/>/mL
                            </td>
                        </tr>
                        <tr>
                            <td>Direct bilirubin<br/>(as indicated)</td>
                            <td><obs id="O_bilirubinD" conceptId="1271AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                     answerConceptId="1297AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerLabel="Yes" style="radio"/>
                            </td>
                            <td><obs id="R_bilirubinD" conceptId="1297AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"/>mg/dL</td>
                            <td rowspan="2"  style="background-color: #696969;">
                                <div style="float: left;
								   -moz-transform: rotate(270deg);  /* FF3.5+ */
								   -o-transform: rotate(270deg);  /* Opera 10.5 */
								   -webkit-transform: rotate(270deg);  /* Saf3.1+, Chrome */
								   filter:  progid:DXImageTransform.Microsoft.BasicImage(rotation=3);  /* IE6,IE7 */
								   -ms-filter: progid:DXImageTransform.Microsoft.BasicImage(rotation=3); /* IE8 */">CD4
                                </div>
                            </td>
                            <td height="20" style="background-color: #696969;">CD4 cell count</td>
                            <td rowspan="2" style="background-color: #696969;"><obs id="O_cd4cd8" conceptId="1271AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                                                                    answerConceptId="854AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerLabel="Yes" style="radio"/>
                            </td>
                            <td style="background-color: #696969;"><obs id="R_cd4" conceptId="5497AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"/>cells/uL</td>
                        </tr>
                        <tr>
                            <td>Alkaline phosphatase<br/>(as indicated)</td>
                            <td><obs id="O_phosph" conceptId="1271AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                     answerConceptId="785AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerLabel="Yes" style="radio"/>
                            </td>
                            <td><obs id="R_phosph" conceptId="785AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"/>/μL</td>
                            <td height="20" style="background-color: #696969;">CD4%</td>
                            <td style="background-color: #696969;"><obs id="R_cd4Percent" conceptId="730AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"/>%</td>
                        </tr>
                        <tr>
                            <td height="20" colspan="2">Creatinine</td>
                            <td><obs id="O_creatinine" conceptId="1271AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                     answerConceptId="790AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerLabel="Yes" style="radio"/>
                            </td>
                            <td><obs id="R_creatinine" conceptId="790AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"/>mg/dL</td>
                            <td colspan="2">Optional: Malaria</td>
                            <td><obs id="O_malaria" conceptId="1271AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                     answerConceptId="32AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" answerLabel="Yes" style="radio"/>
                            </td>
                            <td><obs id="R_malaria" conceptId="32AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                     answerConceptIds="703AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,664AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                     answerLabels="Positive,Negative" answerSeparator="&lt;br /&gt;" style="radio"/>
                            </td>
                        </tr>
                        <tr>
                            <td height="20" colspan="2">Other:</td>
                            <td>Yes No</td>
                            <td></td>
                            <td colspan="2">Other:</td>
                            <td>Yes No</td>
                            <td></td>
                        </tr>
                    </table>
				</span>
    </td>
</tr>
<tr>
    <td>
        <table>
            <td>Next scheduled visit: <obs id="tca" conceptId="5096AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" allowFutureDates="true"/></td>
            <tr>
                <td></td>
            </tr>
        </table>
    </td>
</tr>
<tr>
    <td>
        <table width="100%">
            <tr>
                <td> <a href="#page1">Go to Previous Page</a></td>
                <td> <a href="#page1">Page 1</a></td>
                <td><b>Page 2</b></td>
            </tr>
        </table>
    </td>
</tr>
<tr>
    <td style="text-align:center;">
        <div class="ke-form-buttons">
            <submit />
        </div>
    </td>
</tr>
<tr>
    <td>
        <table>
            <tr>
                <td style="font-style: italic;">Version 2.0; 12 December 2013</td>
            </tr>
        </table>
    </td>
</tr>
</tbody>
</table>
</div>
</htmlform>